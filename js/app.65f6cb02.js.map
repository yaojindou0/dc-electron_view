{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/view/mapview.vue","webpack:///./src/view/mapview.vue?b512","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?abf6","webpack:///./src/assets/bg/star.png","webpack:///./src/mapUtils/utils/SxLine.js","webpack:///./src/view/mapview.vue?3da0","webpack:///./src/mapUtils/utils/fly.js","webpack:///./src/assets/gaode_img.png","webpack:///./src/mapUtils/map.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","routes","path","redirect","component","router","createRouter","history","createWebHashHistory","createStore","state","mutations","actions","plugins","bg","require","onMounted","DC","baseUrl","ready","initView","__exports__","createApp","App","use","store","ElementPlus","locale","zhCn","size","mount","id","lineId","viewer","global","layer","VectorLayer","addLayer","apiLayer","GeoJsonLayer","clampToGround","sxPts","eachOverlay","item","polyline","Polyline","fromEntity","positions","setStyle","width","material","Namespace","Cesium","PolylineGlowMaterialProperty","color","Color","DEEPSKYBLUE","glowPower","zIndex","heightReference","addOverlay","mask","Polygon","holes","scene","globe","imageryLayers","_layers","brightness","screenSpaceCameraController","maximumZoomDistance","fly","position","delay","preDelay","preFly","flyToOptions","callback","handler","Parse","parsePosition","flyToPosition","flyPositionFromC3","c3","options","hpr","Cartesian3","x","y","z","Transform","transformCartesianToWGS84","Position","lng","lat","alt","mapZoom","Viewer","contextOptions","webgl","alpha","allowTextureFilterAnisotropic","powerPreference","animation","baseLayerPicker","frontDebugger","fullscreenButton","geocoder","homeButton","infoBox","logo","navigationHelpButton","sceneModePicker","shadows","shouldAnimate","skyBox","timeline","cameraController","enableRotate","enableTilt","enableTranslate","enableZoom","enableCollisionDetection","minimumZoomDistance","weather","Weather","_registerCustomEvent","onGlobeHeight","height","depthTestAgainstTerrain","compass","enable","zoomController","locationBar","distanceLegend","addBaseLayer","ImageryLayerFactory","createTdtImageryLayer","style","iconUrl","terrain","TerrainFactory","createUrlTerrain","url","addTerrain","TilesetLayer","start_Animation","zoomToPosition","Math","pow","SxLine","Custom_scaleEvent","Event","Custom_LayerEvent","A","B","C","D","camera","moveEnd","addEventListener","ceil","positionCartographic","pzoom","round","raiseEvent","changed","zoom"],"mappings":"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","file":"js/app.65f6cb02.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-3aa9bb35\":\"ffe620b1\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-3aa9bb35\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-3aa9bb35\":\"1d762abe\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { createRouter, createWebHashHistory } from \"vue-router\";\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        redirect: '/index',\r\n    },\r\n   \r\n    {\r\n        path: \"/index\",\r\n        name: \"index\",\r\n        component: () => import(\"@/pages/index\")\r\n    }\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHashHistory(),\r\n    routes,\r\n});\r\n\r\n\r\nexport default router;\r\n","import { createStore } from 'vuex'\r\n\r\nexport default createStore({\r\n  state: {\r\n  \r\n  },\r\n  mutations: {\r\n   \r\n  },\r\n  actions: {\r\n    \r\n  },\r\n  modules: {\r\n    \r\n  },\r\n  plugins: [\r\n \r\n  ]\r\n})\r\n","<template>\n  <div  id=\"viewer-container\"  :style=\"'background-image:url('+bg+')'\"></div>\n</template>\n\n<script setup>\nimport { initView } from \"../mapUtils/map\";\nimport { onMounted } from \"vue\";\nconst bg=require(\"@/assets/bg/star.png\");\nonMounted(() => {\n  DC.baseUrl = \"lib/resources/\";\n  DC.ready();\n  initView();\n});\n</script>\n\n\n<style scoped>\n#viewer-container {\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\nbackground-size: 100% 100%;\n}\n\n</style>\n","import script from \"./mapview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./mapview.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./mapview.vue?vue&type=style&index=0&id=6b60343e&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\数据\\\\gitee\\\\dc-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b60343e\"]])\n\nexport default __exports__","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=64865aa1&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\数据\\\\gitee\\\\dc-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64865aa1\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport router from \"./router\";\nimport store from \"./store\";\nimport App from './App.vue'\nimport ElementPlus from 'element-plus'\nimport zhCn from 'element-plus/es/locale/lang/zh-cn'\nimport 'element-plus/dist/index.css'\ncreateApp(App).use(store).use(router)\n    .use(ElementPlus, {\n        locale: zhCn,\n        size: 'default'\n    }).mount('#app')","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=64865aa1&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/star.f33882e3.png\";","\r\n\r\nexport default async function () {\r\n  const id = 'sx-source'\r\n  const lineId = 'sxline'\r\n  const viewer = global.viewer\r\n\r\n  let layer = new DC.VectorLayer(id)\r\n  viewer.addLayer(layer)\r\n  const apiLayer = new DC.GeoJsonLayer(id, \"json/sx-line.geojson\", {\r\n    clampToGround: true\r\n  })\r\n \r\n  let sxPts\r\n  await apiLayer.eachOverlay(item => {\r\n      // const pts = item.polyline.positions.getValue()\r\n      \r\n      let polyline = DC.Polyline.fromEntity(item)\r\n      sxPts = polyline.positions\r\n      polyline.id = lineId\r\n      polyline.setStyle({\r\n        width: 20, //线宽\r\n        material: new DC.Namespace.Cesium.PolylineGlowMaterialProperty({\r\n          color: DC.Namespace.Cesium.Color.DEEPSKYBLUE,\r\n          glowPower: 0.1\r\n        }),\r\n         clampToGround: true,\r\n         zIndex: 999,\r\n        heightReference: 1,\r\n        \r\n      })\r\n      layer.addOverlay(polyline)\r\n\r\n\r\n      let mask = new DC.Polygon([\r\n        [70, -70],\r\n        [70, 70],\r\n        [150, 70],\r\n        [150, -70]\r\n      ])\r\n      mask.id = 'sxMask'\r\n      mask.holes = [sxPts]\r\n      mask.setStyle({\r\n        // material: new DC.Namespace.Cesium.Color(15 / 255.0, 38 / 255.0, 84 / 255.0, 0.8)\r\n        material: new DC.Namespace.Cesium.Color(0 / 255.0, 0 / 255.0, 0 / 255.0, 0.6)\r\n      })\r\n     //  layer.addOverlay(mask)\r\n\r\n      // layer.on(DC.MouseEventType.CLICK, () => {\r\n      //   flyToSx()\r\n      // })\r\n\r\n     \r\n      setTimeout(() => {\r\n        viewer.scene.globe.imageryLayers._layers[0].brightness = 0.4\r\n        viewer.scene.screenSpaceCameraController.maximumZoomDistance = 2009014.0\r\n      }, 2000)\r\n    });\r\n   \r\n     \r\n\r\n     \r\n  \r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./mapview.vue?vue&type=style&index=0&id=6b60343e&scoped=true&lang=css\"","\r\nexport const SXC3 = {\r\n  x: -2091499.0876707556,\r\n  y: 6137047.395237948,\r\n  z: 3482356.364524764\r\n}\r\n\r\nexport function flyToSx(callback) {\r\n  flyPositionFromC3(\r\n    SXC3,\r\n    {\r\n      flyToOptions: {\r\n        duration: 1.5\r\n      }\r\n    },\r\n    [0, -55, 0],\r\n    () => {\r\n      global.viewer.scene.globe.depthTestAgainstTerrain && (global.viewer.scene.globe.depthTestAgainstTerrain = false)\r\n      global.viewer.animations.destroyAll()\r\n      callback && callback()\r\n    }\r\n  )\r\n}\r\n\r\nexport function fly(viewer, position, { delay, preDelay, preFly, flyToOptions }, callback) {\r\n  return new Promise((resolve) => {\r\n    preDelay && preDelay()\r\n    const handler = setTimeout(() => {\r\n      clearTimeout(handler)\r\n      position = DC.Parse.parsePosition(position)\r\n      preFly && preFly()\r\n      \r\n      viewer.flyToPosition(\r\n        position,\r\n        () => {\r\n          if (callback) {\r\n            let p = callback()\r\n            if (p?.then) {\r\n              p.then(() => {\r\n                resolve()\r\n              })\r\n            } else resolve()\r\n          } else resolve()\r\n        },\r\n        flyToOptions\r\n      )\r\n    }, delay || 0)\r\n  })\r\n}\r\n\r\nexport function flyPositionFromC3(c3, options = { delay: 0, flyToOptions: {} }, hpr = [0, -90, 0], callback) {\r\n  let position = new DC.Namespace.Cesium.Cartesian3(c3.x, c3.y, c3.z)\r\n  position = DC.Transform.transformCartesianToWGS84(position)\r\n  position = new DC.Position(\r\n    position.lng,\r\n    position.lat,\r\n    position.alt,\r\n    hpr[0] || 0,\r\n    hpr[1] || -90,\r\n\r\n    hpr[2] || 0\r\n  )\r\n  return fly(global.viewer, position, options, callback)\r\n}\r\n\r\nexport function getCameraFocus(inWorldCoordinates) {\r\n\r\n  const viewer = window.Viewer\r\n  let result = new DC.Namespace.Cesium.Cartesian3()\r\n  const scene = viewer.scene\r\n  const camera = viewer.camera\r\n  if (scene.mode === DC.Namespace.Cesium.SceneMode.MORPHING) return undefined\r\n  if (viewer.delegate.trackedEntity) {\r\n    result = viewer.delegate.trackedEntity.position.getValue(viewer.clock.currentTime)\r\n  } else {\r\n    if (scene.globe.show) {\r\n      const rayScratch = new DC.Namespace.Cesium.Ray()\r\n      rayScratch.origin = camera.positionWC\r\n      rayScratch.direction = camera.directionWC\r\n      result = scene.globe.pick(rayScratch, scene)\r\n    } else {\r\n      scene.pickPosition({ x: viewer.canvas.width / 2, y: viewer.canvas.height / 2 }, result)\r\n    }\r\n  }\r\n  if (!result) return undefined\r\n\r\n  if (scene.mode === DC.Namespace.Cesium.SceneMode.SCENE2D || scene.mode === DC.Namespace.Cesium.SceneMode.COLUMBUS_VIEW) {\r\n    result = camera.worldToCameraCoordinatesPoint(result)\r\n    let unprojectedScratch = new DC.Namespace.Cesium.Cartographic()\r\n    if (inWorldCoordinates) {\r\n      result = scene.globe.ellipsoid.cartographicToCartesian(scene.mapProjection.unproject(result, unprojectedScratch))\r\n    } else {\r\n      result = camera.worldToCameraCoordinatesPoint(result)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nexport function lockCurrrentView(isLock) {\r\n  if (isLock) {\r\n    let center = getCameraFocus(true)\r\n    if (center) {\r\n      const viewer = global.viewer\r\n      const scene = viewer.scene\r\n      const camera = viewer.camera\r\n      let cameraPosition = scene.globe.ellipsoid.cartographicToCartesian(camera.positionCartographic)\r\n\r\n      viewer.camera.lookAt(center, new DC.Namespace.Cesium.HeadingPitchRange(camera.heading, camera.pitch, DC.Namespace.Cesium.Cartesian3.distance(cameraPosition, center)))\r\n    }\r\n  } else {\r\n    window.Viewer.camera.lookAtTransform(DC.Namespace.Cesium.Matrix4.IDENTITY)\r\n  }\r\n}\r\n\r\nexport function flyThenLock(\r\n  degrees = [],\r\n  hpRange = [],\r\n  flyToOptions = {\r\n    duration: 1.5,\r\n    easingFunction: DC.Namespace.Cesium.EasingFunction.LINEAR_NONE\r\n  }\r\n) {\r\n  return new Promise((resolve) => {\r\n    const viewer = global.viewer\r\n    const scene = viewer.scene\r\n    const camera = viewer.camera\r\n\r\n    const heading = DC.Namespace.Cesium.Math.toRadians(hpRange[0])\r\n    const pitch = DC.Namespace.Cesium.Math.toRadians(hpRange[1])\r\n    const range = hpRange[2]\r\n\r\n    const center = DC.Namespace.Cesium?.Cartesian3?.fromDegrees(...degrees)\r\n\r\n   \r\n\r\n    window.Viewer.camera.lookAtTransform(DC.Namespace.Cesium.Matrix4.IDENTITY)\r\n \r\n    viewer.camera.flyToBoundingSphere(new DC.Namespace.Cesium.BoundingSphere(center, range), {\r\n      offset: new DC.Namespace.Cesium.HeadingPitchRange(heading, pitch, 0),\r\n      duration: flyToOptions.duration,\r\n      complete: () => {\r\n        const transform = DC.Namespace.Cesium.Transforms.eastNorthUpToFixedFrame(center)\r\n        camera.constrainedAxis = DC.Namespace.Cesium.Cartesian3.UNIT_Z\r\n        const cameraPosition = scene.globe.ellipsoid.cartographicToCartesian(camera.positionCartographic)\r\n        const disRange = DC.Namespace.Cesium.Cartesian3.distance(cameraPosition, center)\r\n        camera.lookAtTransform(transform, new DC.Namespace.Cesium.HeadingPitchRange(heading, pitch, disRange))\r\n\r\n        resolve()\r\n      },\r\n      cancel: () => {\r\n        // alert('4445')\r\n      },\r\n      easingFunction: flyToOptions.easingFunction\r\n    })\r\n  })\r\n}\r\n\r\nexport function registerLimitPitch() {\r\n  let c3\r\n  let heading\r\n  let roll\r\n  let pitch\r\n  const viewer = global.viewer\r\n  const Cartesian3 = DC.Namespace.Cesium.Cartesian3\r\n  const limitPitch = DC.Namespace.Cesium.Math.toRadians(-30.0)\r\n  const scene = viewer.scene\r\n  const camera = viewer.camera\r\n  viewer.clock.onTick.addEventListener(() => {\r\n    if (viewer.camera.pitch >= limitPitch) {\r\n      scene.screenSpaceCameraController.enableTilt = false\r\n      camera.setView({\r\n        destination: c3,\r\n        orientation: {\r\n          heading: heading,\r\n          pitch: pitch,\r\n          roll\r\n        }\r\n      })\r\n\r\n      scene.screenSpaceCameraController.enableTilt = true\r\n    } else {\r\n      heading = camera.heading\r\n      pitch = camera.pitch\r\n      roll = camera.roll\r\n      c3 = Cartesian3.clone(camera.positionWC)\r\n    }\r\n  })\r\n}\r\n\r\nexport function adjustHeight(c3s, height) {\r\n  const heightPts = DC.Namespace.Cesium?.Cartesian3?.fromDegreesArrayHeights(\r\n    c3s\r\n      .map(ppt => {\r\n        let postion = DC.Transform.transformCartesianToWGS84(ppt)\r\n        postion.alt += height\r\n        return [postion.lng, postion.lat, postion.alt]\r\n      })\r\n      .flat()\r\n  )\r\n  return heightPts\r\n}\r\n\r\nexport function flyByOffsetPt(\r\n  position,\r\n  options = {\r\n    x: 0,\r\n    y: -4000,\r\n    z: 4000\r\n  },\r\n  callback\r\n) {\r\n  const pt = position.clone()\r\n  const carto = DC.Transform.transformWGS84ToCartographic(pt)\r\n  const height = global.viewer.scene.globe.getHeight(carto)\r\n  pt.alt = height\r\n\r\n  const sc3 = DC.Transform.transformWGS84ToCartesian(pt)\r\n  let offsetPt = DC.Transform.transformOffsetCartesian(sc3, {\r\n    x: options.x,\r\n    y: options.y,\r\n    z: options.z\r\n  })\r\n\r\n  let pich = DC.Math.pitch(sc3, offsetPt)\r\n\r\n  offsetPt = DC.Position.fromCartesian3(offsetPt)\r\n  offsetPt.pitch = (-180 / Math.PI) * pich\r\n  global.viewer.flyToPosition(offsetPt, callback)\r\n}\r\n","module.exports = __webpack_public_path__ + \"img/gaode_img.99239a51.png\";","import { flyPositionFromC3 } from \"./utils/fly\";\r\nimport SxLine from './utils/SxLine'\r\nglobal.viewer = null\r\nglobal.mapZoom = null\r\nexport const initView = () => {\r\n    let viewer = new DC.Viewer(\"viewer-container\", {\r\n        contextOptions: {\r\n            webgl: { alpha: true, allowTextureFilterAnisotropic: false, powerPreference: 'high-performance' }\r\n        },\r\n        animation: false,\r\n        baseLayerPicker: false,\r\n        frontDebugger: false,\r\n        fullscreenButton: false,\r\n        geocoder: false,\r\n        homeButton: false,\r\n        infoBox: false,\r\n        logo: false,\r\n        navigationHelpButton: false,\r\n        sceneModePicker: true,\r\n        shadows: false,\r\n        shouldAnimate: true,\r\n        skyBox: false,\r\n        timeline: false,\r\n        cameraController: {\r\n            // 相机控制\r\n            enableRotate: false, // 是否可以旋转\r\n            enableTilt: true, // 是否可以翻转\r\n            enableTranslate: true, // 是否可以平移\r\n            enableZoom: true, // 是否可以缩放\r\n            enableCollisionDetection: true, // 是否支持碰撞检测\r\n            minimumZoomDistance: 500, // 最小缩放距离\r\n            maximumZoomDistance: 40489014.0 // 最大缩放距离\r\n        }\r\n    });\r\n    let weather = new DC.Weather()\r\n    viewer.use(weather)\r\n    global.viewer = viewer;\r\n    _registerCustomEvent()\r\n    onGlobeHeight(height => {\r\n        if (height < 4000) {\r\n            global.viewer.scene.globe.depthTestAgainstTerrain = true\r\n        } else {\r\n            global.viewer.scene.globe.depthTestAgainstTerrain && (global.viewer.scene.globe.depthTestAgainstTerrain = false)\r\n        }\r\n    })\r\n    global.viewer.compass.enable = true\r\n    global.viewer.zoomController.enable = false\r\n    global.viewer.locationBar.enable = false\r\n    global.viewer.distanceLegend.enable = false\r\n    global.viewer.scene.globe.depthTestAgainstTerrain = false\r\n  \r\n    let key = \"ae61889e995722a799b73fdabfd50daf\";\r\n    viewer.addBaseLayer(\r\n        [\r\n            DC.ImageryLayerFactory.createTdtImageryLayer({\r\n                key,\r\n                style: \"img\",\r\n            }),\r\n            DC.ImageryLayerFactory.createTdtImageryLayer({\r\n                key,\r\n                style: \"cva\",\r\n            }),\r\n        ],\r\n        {\r\n            iconUrl: require(\"@/assets/gaode_img.png\"),\r\n            name: \"电子地图\",\r\n        }\r\n    );\r\n    let terrain = DC.TerrainFactory.createUrlTerrain({\r\n        url: \"http://data.marsgis.cn/terrain\",\r\n    });\r\n    viewer.addTerrain(terrain);\r\n    let layer = new DC.TilesetLayer(\"layer\");\r\n    viewer.addLayer(layer);\r\n\r\n    start_Animation()\r\n};\r\n\r\nconst start_Animation = () => {\r\n    const viewer = global.viewer\r\n    viewer.scene.globe.imageryLayers._layers[0].brightness = 0.1\r\n    viewer.zoomToPosition(new DC.Position(108, 35, 12 * Math.pow(10, 8), 0, -90, 0), () => {\r\n        return flyPositionFromC3(\r\n            {\r\n                x: -7369568.085580009,\r\n                y: 20101917.98764624,\r\n                z: 17135202.66448588\r\n            },\r\n            { delay: 800 },\r\n            [0, -90, 0],\r\n            () => { }\r\n        ).then(() => {\r\n            return flyPositionFromC3(\r\n                {\r\n\r\n                    x: -2091499.0876707556,\r\n                    y: 6137047.395237948,\r\n                    z: 3482356.364524764\r\n                },\r\n                {\r\n                    delay: 0,\r\n                    preDelay: () => { },\r\n                    preFly: () => { }\r\n                },\r\n                [0, -55, 0],\r\n                () => {\r\n                    SxLine()\r\n\r\n                }\r\n            )\r\n        })\r\n    })\r\n}\r\nconst _registerCustomEvent = () => {\r\n\r\n    global.viewer.Custom_scaleEvent = new DC.Namespace.Cesium.Event()\r\n    global.viewer.Custom_LayerEvent = new DC.Namespace.Cesium.Event()\r\n\r\n    const A = 40487.57\r\n    const B = 0.00007096758\r\n    const C = 91610.74\r\n    const D = -40467.74\r\n\r\n    global.viewer.camera.moveEnd.addEventListener(() => {\r\n        const height = Math.ceil(global.viewer.camera.positionCartographic.height)\r\n        const pzoom = Math.round(D + (A - D) / (1 + Math.pow(height / C, B)))\r\n        global.mapZoom = pzoom\r\n        global.viewer.Custom_scaleEvent.raiseEvent(height, pzoom)\r\n    })\r\n\r\n    global.viewer.camera.changed.addEventListener(() => {\r\n        const height = Math.ceil(global.viewer.camera.positionCartographic.height)\r\n        const pzoom = Math.round(D + (A - D) / (1 + Math.pow(height / C, B)))\r\n        global.viewer.Custom_LayerEvent.raiseEvent(height, pzoom)\r\n    })\r\n}\r\nconst onGlobeHeight = (callback) => {\r\n    let handler = global.viewer.Custom_LayerEvent.addEventListener((height, zoom) => {\r\n        callback(height, zoom)\r\n    })\r\n    return handler\r\n}"],"sourceRoot":""}